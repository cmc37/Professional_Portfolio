<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Cathea M. Carey, MPH">
<meta name="dcterms.date" content="2025-12-12">

<title>Prime_Lab_SkillsAssessment</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="Pilot_RCT_BHinPC_files/libs/clipboard/clipboard.min.js"></script>
<script src="Pilot_RCT_BHinPC_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="Pilot_RCT_BHinPC_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="Pilot_RCT_BHinPC_files/libs/quarto-html/popper.min.js"></script>
<script src="Pilot_RCT_BHinPC_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Pilot_RCT_BHinPC_files/libs/quarto-html/anchor.min.js"></script>
<link href="Pilot_RCT_BHinPC_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Pilot_RCT_BHinPC_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Pilot_RCT_BHinPC_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Pilot_RCT_BHinPC_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Pilot_RCT_BHinPC_files/libs/bootstrap/bootstrap-81267100e462c21b3d6c0d5bf76a3417.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Prime_Lab_SkillsAssessment</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Cathea M. Carey, MPH </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 12, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="background" class="level1">
<h1>Background</h1>
<p>Behavioral Health (BH) is defined as X. Commonly delivered in Y settings, and in the United States’ health care system often are inaccessible to populations who would benefit from BH interventions due to reason A- (cite), reason B (cite), and reason C (cite).</p>
<p>Primary Care (PC) is often a seen as a secondary health care setting that provides primary intervention for both physical and behavioral needs. PC access and utilization are associated with better outcome A - C.</p>
<p>BH interventions in PC have the shown potential to 1) loneliness and 2) depression as this setting have the added benefit of primary intervention or initial identification while the patient is potentially more motivated in PC rather than waiting for a referral (cite) or co-located BH/MH on-site (cite).</p>
<p>This small randomized control trial (RCT) aims to understand the feasibility of a BH intervention in Primary Care. The sample consists of 40 participants, equally weighted in the intervention (BH) and control (Treatment-as-usual or TAU). The data-set consists of intervention arm (BH/TAU), participant demographics (Age, Race/Ethnicity, Gender, and Income), measurement of outcomes (primary = loneliness; secondary = depression) at 3 time points (baseline, 3 months follow-up, and 6 months follow-up), and attendance for all 6 intervention session (Intervention arm = BH only).</p>
</section>
<section id="decision-logs" class="level1">
<h1>Decision Logs</h1>
<section id="pre-extract-transform-and-load-etl---prior-to-establishing-the-environment" class="level2">
<h2 class="anchored" data-anchor-id="pre-extract-transform-and-load-etl---prior-to-establishing-the-environment">Pre-Extract, Transform, and Load (ETL) - Prior to Establishing the Environment</h2>
<p>The Pre-Work before starting the assessment began with reviewing the “Skills_Assessment_Instructions.docx” and “data_dictionary.xlsx” files. During Pre-Work for the Assessment, the following thoughts came to mind:</p>
<ul>
<li><p>What are the standard bins or categories for the following known continuous variables to measure the outcomes (primary = loneliness; secondary = depression):</p>
<ul>
<li>Age (for this research aim: Behavioral Health Interventions in Primary Care),</li>
<li>PHQ-9 (measure for secondary outcome = depression),</li>
<li>and UCLA - L20 (measure for primary outcome = loneliness)</li>
</ul></li>
<li><p><strong>NOTE:</strong> Gender outputs - Question what source(s) for outputs or standards for Gender were used? I’ve seen Gender reported as Gender Identify (a specific operationally defined construct with consistent industry standards) and Sexual Identity. I would suggest aligned with Office of Management and Budget’s demographic standards back in 2024.</p></li>
<li><p>Additional Calculated field for Race/Ethnicity since a “self-described” output would likely result in small Ns.</p></li>
<li><p><strong>Caution:</strong> Given the small sample size, external publications of findings should follow data suppression standards (such as Journals or Governmental entities).</p></li>
</ul>
</section>
<section id="post-etl" class="level2">
<h2 class="anchored" data-anchor-id="post-etl">Post-ETL</h2>
<section id="make-calculated-fields" class="level3">
<h3 class="anchored" data-anchor-id="make-calculated-fields">Make Calculated Fields</h3>
<ul>
<li>Age (bins)</li>
<li>Race/Ethnicity (New Variable Names/Labels)
<ol type="1">
<li>Preserves the Categories with new field; one-hot encoding for select all option not needed</li>
</ol></li>
<li>PHQ-9 Total (by time points)</li>
<li>PHQ-9 X Sub-categories (by time points)
<ul>
<li><a href="https://onlinelibrary.wiley.com/doi/full/10.1046/j.1525-1497.2001.016009606.x">PHQ-9: Validity of a Brief Depression Severity Measure</a> (<span class="citation" data-cites="kroenke2001">Kroenke, Spitzer, and Williams (<a href="#ref-kroenke2001" role="doc-biblioref">2001</a>)</span>)
<ul>
<li>Validation suggests bins of PHQ-9 scores of 5== mild, 10 == moderate, 15 ==moderately severe, and 20 severe depression</li>
</ul></li>
</ul></li>
<li>UCLA-LS-20 Total (by time points)</li>
<li>UCLA-LS-20 X Sub-categories (by time points)
<ul>
<li><a href="https://www.cambridge.org/core/journals/psychological-medicine/article/measuring-loneliness-a-headtohead-psychometric-comparison-of-the-3-and-20item-ucla-loneliness-scales/CF99BEB620AF61EAEDCF7B360312F994">UCLA - LS Scale Article</a> (<span class="citation" data-cites="gosling2024">Gosling et al. (<a href="#ref-gosling2024" role="doc-biblioref">2024</a>)</span>)
<ul>
<li>Sensitivity analysis suggests exploring cutoff at &gt;= 39; &gt;=43; and &gt;=53</li>
</ul></li>
</ul></li>
<li>Attendance (bins)
<ol type="1">
<li>Preserve time-point attendance; additional overall attendance output for high-level trend (signal and keeps option for treatment dosage effects).
<ol type="1">
<li>Prop = (full dose/‘yes’+ 1/2 partial dose/‘partial’)/ total dosage (all 6 sessions)</li>
</ol></li>
</ol></li>
</ul>
<p>Note: Create a Flag for records missing 1 or more elements (UCLA-LS-20; PHQ-9; Race/Ethnicity)</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Pilot_RCT_BHinPC_files/figure-html/ETL%20Part%202-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Pilot_RCT_BHinPC_files/figure-html/ETL%20Part%202-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Pilot_RCT_BHinPC_files/figure-html/ETL%20Part%202-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Pilot_RCT_BHinPC_files/figure-html/ETL%20Part%202-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Pilot_RCT_BHinPC_files/figure-html/ETL%20Part%202-5.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Pilot_RCT_BHinPC_files/figure-html/ETL%20Part%202-6.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Pilot_RCT_BHinPC_files/figure-html/ETL%20Part%202-7.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Pilot_RCT_BHinPC_files/figure-html/ETL%20Part%202-8.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="tables-1-pilot-sample-characteristics-n40" class="level3">
<h3 class="anchored" data-anchor-id="tables-1-pilot-sample-characteristics-n40">Tables 1: Pilot Sample Characteristics (N=40)</h3>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Pilot_RCT_BHinPC_files/figure-html/Table%201-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div id="tfxcgjmoib" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#tfxcgjmoib table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#tfxcgjmoib thead, #tfxcgjmoib tbody, #tfxcgjmoib tfoot, #tfxcgjmoib tr, #tfxcgjmoib td, #tfxcgjmoib th {
  border-style: none;
}

#tfxcgjmoib p {
  margin: 0;
  padding: 0;
}

#tfxcgjmoib .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#tfxcgjmoib .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#tfxcgjmoib .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#tfxcgjmoib .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#tfxcgjmoib .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tfxcgjmoib .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tfxcgjmoib .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tfxcgjmoib .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#tfxcgjmoib .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#tfxcgjmoib .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#tfxcgjmoib .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#tfxcgjmoib .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#tfxcgjmoib .gt_spanner_row {
  border-bottom-style: hidden;
}

#tfxcgjmoib .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#tfxcgjmoib .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#tfxcgjmoib .gt_from_md > :first-child {
  margin-top: 0;
}

#tfxcgjmoib .gt_from_md > :last-child {
  margin-bottom: 0;
}

#tfxcgjmoib .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#tfxcgjmoib .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#tfxcgjmoib .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#tfxcgjmoib .gt_row_group_first td {
  border-top-width: 2px;
}

#tfxcgjmoib .gt_row_group_first th {
  border-top-width: 2px;
}

#tfxcgjmoib .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tfxcgjmoib .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#tfxcgjmoib .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#tfxcgjmoib .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tfxcgjmoib .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tfxcgjmoib .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#tfxcgjmoib .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#tfxcgjmoib .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#tfxcgjmoib .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tfxcgjmoib .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tfxcgjmoib .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#tfxcgjmoib .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tfxcgjmoib .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#tfxcgjmoib .gt_left {
  text-align: left;
}

#tfxcgjmoib .gt_center {
  text-align: center;
}

#tfxcgjmoib .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#tfxcgjmoib .gt_font_normal {
  font-weight: normal;
}

#tfxcgjmoib .gt_font_bold {
  font-weight: bold;
}

#tfxcgjmoib .gt_font_italic {
  font-style: italic;
}

#tfxcgjmoib .gt_super {
  font-size: 65%;
}

#tfxcgjmoib .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#tfxcgjmoib .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#tfxcgjmoib .gt_indent_1 {
  text-indent: 5px;
}

#tfxcgjmoib .gt_indent_2 {
  text-indent: 10px;
}

#tfxcgjmoib .gt_indent_3 {
  text-indent: 15px;
}

#tfxcgjmoib .gt_indent_4 {
  text-indent: 20px;
}

#tfxcgjmoib .gt_indent_5 {
  text-indent: 25px;
}

#tfxcgjmoib .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#tfxcgjmoib div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="gt_heading header">
<th colspan="3" class="gt_heading gt_title gt_font_normal gt_bottom_border">Demographic and Baseline Characteristics by Treatment</th>
</tr>
<tr class="gt_col_headings even">
<th id="value" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Characteristics</th>
<th id="intervention" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Intervention (N(%))</th>
<th id="control" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Treatment-as-Usual (N(%))</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row odd">
<td colspan="3" id="Age (bin)" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Age (bin)</td>
</tr>
<tr class="gt_row_group_first even">
<td class="gt_row gt_left" headers="Age (bin)  value">20 - 34 years old</td>
<td class="gt_row gt_right" headers="Age (bin)  intervention">5 (25%)</td>
<td class="gt_row gt_right" headers="Age (bin)  control">4 (20%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Age (bin)  value">35 - 49 years old</td>
<td class="gt_row gt_right" headers="Age (bin)  intervention">8 (40%)</td>
<td class="gt_row gt_right" headers="Age (bin)  control">7 (35%)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Age (bin)  value">50 - 64 years old</td>
<td class="gt_row gt_right" headers="Age (bin)  intervention">6 (30%)</td>
<td class="gt_row gt_right" headers="Age (bin)  control">5 (25%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Age (bin)  value">64 years old or older</td>
<td class="gt_row gt_right" headers="Age (bin)  intervention">1 (5%)</td>
<td class="gt_row gt_right" headers="Age (bin)  control">4 (20%)</td>
</tr>
<tr class="gt_group_heading_row even">
<td colspan="3" id="Gender" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Gender</td>
</tr>
<tr class="gt_row_group_first odd">
<td class="gt_row gt_left" headers="Gender  value">Female</td>
<td class="gt_row gt_right" headers="Gender  intervention">7 (35%)</td>
<td class="gt_row gt_right" headers="Gender  control">12 (60%)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Gender  value">Male</td>
<td class="gt_row gt_right" headers="Gender  intervention">5 (25%)</td>
<td class="gt_row gt_right" headers="Gender  control">4 (20%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Gender  value">Nonbinary</td>
<td class="gt_row gt_right" headers="Gender  intervention">3 (15%)</td>
<td class="gt_row gt_right" headers="Gender  control">2 (10%)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Gender  value">Prefer not to say</td>
<td class="gt_row gt_right" headers="Gender  intervention">5 (25%)</td>
<td class="gt_row gt_right" headers="Gender  control">2 (10%)</td>
</tr>
<tr class="gt_group_heading_row odd">
<td colspan="3" id="Intervention Dosage" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Intervention Dosage</td>
</tr>
<tr class="gt_row_group_first even">
<td class="gt_row gt_left" headers="Intervention Dosage  value">Control</td>
<td class="gt_row gt_right" headers="Intervention Dosage  intervention">0 (0%)</td>
<td class="gt_row gt_right" headers="Intervention Dosage  control">20 (100%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Intervention Dosage  value">Full Treatment</td>
<td class="gt_row gt_right" headers="Intervention Dosage  intervention">13 (65%)</td>
<td class="gt_row gt_right" headers="Intervention Dosage  control">0 (0%)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Intervention Dosage  value">Partial Treatment</td>
<td class="gt_row gt_right" headers="Intervention Dosage  intervention">7 (35%)</td>
<td class="gt_row gt_right" headers="Intervention Dosage  control">0 (0%)</td>
</tr>
<tr class="gt_group_heading_row odd">
<td colspan="3" id="Race/Ethnicity" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Race/Ethnicity</td>
</tr>
<tr class="gt_row_group_first even">
<td class="gt_row gt_left" headers="Race/Ethnicity  value">AI/AN</td>
<td class="gt_row gt_right" headers="Race/Ethnicity  intervention">2 (10%)</td>
<td class="gt_row gt_right" headers="Race/Ethnicity  control">1 (5%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Race/Ethnicity  value">Asian American</td>
<td class="gt_row gt_right" headers="Race/Ethnicity  intervention">1 (5%)</td>
<td class="gt_row gt_right" headers="Race/Ethnicity  control">2 (10%)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Race/Ethnicity  value">Black/AA</td>
<td class="gt_row gt_right" headers="Race/Ethnicity  intervention">2 (10%)</td>
<td class="gt_row gt_right" headers="Race/Ethnicity  control">2 (10%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Race/Ethnicity  value">Latinx</td>
<td class="gt_row gt_right" headers="Race/Ethnicity  intervention">2 (10%)</td>
<td class="gt_row gt_right" headers="Race/Ethnicity  control">4 (20%)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Race/Ethnicity  value">MENA</td>
<td class="gt_row gt_right" headers="Race/Ethnicity  intervention">2 (10%)</td>
<td class="gt_row gt_right" headers="Race/Ethnicity  control">1 (5%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Race/Ethnicity  value">Multiracial</td>
<td class="gt_row gt_right" headers="Race/Ethnicity  intervention">2 (10%)</td>
<td class="gt_row gt_right" headers="Race/Ethnicity  control">3 (15%)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Race/Ethnicity  value">NHPI</td>
<td class="gt_row gt_right" headers="Race/Ethnicity  intervention">0 (0%)</td>
<td class="gt_row gt_right" headers="Race/Ethnicity  control">1 (5%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Race/Ethnicity  value">Prefer Not to Say</td>
<td class="gt_row gt_right" headers="Race/Ethnicity  intervention">2 (10%)</td>
<td class="gt_row gt_right" headers="Race/Ethnicity  control">0 (0%)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Race/Ethnicity  value">Race Not Listed</td>
<td class="gt_row gt_right" headers="Race/Ethnicity  intervention">3 (15%)</td>
<td class="gt_row gt_right" headers="Race/Ethnicity  control">2 (10%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Race/Ethnicity  value">White</td>
<td class="gt_row gt_right" headers="Race/Ethnicity  intervention">4 (20%)</td>
<td class="gt_row gt_right" headers="Race/Ethnicity  control">4 (20%)</td>
</tr>
<tr class="gt_group_heading_row even">
<td colspan="3" id="Annual Household Income in USD (Mean(SD))" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Annual Household Income in USD (Mean(SD))</td>
</tr>
<tr class="gt_row_group_first odd">
<td class="gt_row gt_left" headers="Annual Household Income in USD (Mean(SD))  value"><br>
</td>
<td class="gt_row gt_right" headers="Annual Household Income in USD (Mean(SD))  intervention">42077.3 (6683.2)</td>
<td class="gt_row gt_right" headers="Annual Household Income in USD (Mean(SD))  control">77162 (13272.7)</td>
</tr>
<tr class="gt_group_heading_row even">
<td colspan="3" id="PHQ-9 at 3 months (Mean(SD))" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">PHQ-9 at 3 months (Mean(SD))</td>
</tr>
<tr class="gt_row_group_first odd">
<td class="gt_row gt_left" headers="PHQ-9 at 3 months (Mean(SD))  value"><br>
</td>
<td class="gt_row gt_right" headers="PHQ-9 at 3 months (Mean(SD))  intervention">10.5 (2.3)</td>
<td class="gt_row gt_right" headers="PHQ-9 at 3 months (Mean(SD))  control">9.1 (1.3)</td>
</tr>
<tr class="gt_group_heading_row even">
<td colspan="3" id="PHQ-9 at 6 months (Mean(SD))" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">PHQ-9 at 6 months (Mean(SD))</td>
</tr>
<tr class="gt_row_group_first odd">
<td class="gt_row gt_left" headers="PHQ-9 at 6 months (Mean(SD))  value"><br>
</td>
<td class="gt_row gt_right" headers="PHQ-9 at 6 months (Mean(SD))  intervention">10.6 (2.2)</td>
<td class="gt_row gt_right" headers="PHQ-9 at 6 months (Mean(SD))  control">11.1 (1.4)</td>
</tr>
<tr class="gt_group_heading_row even">
<td colspan="3" id="PHQ-9 at baseline (Mean(SD))" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">PHQ-9 at baseline (Mean(SD))</td>
</tr>
<tr class="gt_row_group_first odd">
<td class="gt_row gt_left" headers="PHQ-9 at baseline (Mean(SD))  value"><br>
</td>
<td class="gt_row gt_right" headers="PHQ-9 at baseline (Mean(SD))  intervention">10.7 (1.7)</td>
<td class="gt_row gt_right" headers="PHQ-9 at baseline (Mean(SD))  control">11.5 (2.1)</td>
</tr>
<tr class="gt_group_heading_row even">
<td colspan="3" id="Total Doseage of Treatment (Mean(SD))" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Total Doseage of Treatment (Mean(SD))</td>
</tr>
<tr class="gt_row_group_first odd">
<td class="gt_row gt_left" headers="Total Doseage of Treatment (Mean(SD))  value"><br>
</td>
<td class="gt_row gt_right" headers="Total Doseage of Treatment (Mean(SD))  intervention">4.2 (0.9)</td>
<td class="gt_row gt_right" headers="Total Doseage of Treatment (Mean(SD))  control">0 (0)</td>
</tr>
<tr class="gt_group_heading_row even">
<td colspan="3" id="UCLA - LS - 20 at 3 months(Mean(SD))" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">UCLA - LS - 20 at 3 months(Mean(SD))</td>
</tr>
<tr class="gt_row_group_first odd">
<td class="gt_row gt_left" headers="UCLA - LS - 20 at 3 months(Mean(SD))  value"><br>
</td>
<td class="gt_row gt_right" headers="UCLA - LS - 20 at 3 months(Mean(SD))  intervention">42.1 (11.2)</td>
<td class="gt_row gt_right" headers="UCLA - LS - 20 at 3 months(Mean(SD))  control">46.3 (8.5)</td>
</tr>
<tr class="gt_group_heading_row even">
<td colspan="3" id="UCLA - LS - 20 at 6 months (Mean(SD))" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">UCLA - LS - 20 at 6 months (Mean(SD))</td>
</tr>
<tr class="gt_row_group_first odd">
<td class="gt_row gt_left" headers="UCLA - LS - 20 at 6 months (Mean(SD))  value"><br>
</td>
<td class="gt_row gt_right" headers="UCLA - LS - 20 at 6 months (Mean(SD))  intervention">45.9 (9.9)</td>
<td class="gt_row gt_right" headers="UCLA - LS - 20 at 6 months (Mean(SD))  control">47.7 (10.6)</td>
</tr>
<tr class="gt_group_heading_row even">
<td colspan="3" id="UCLA - LS - 20 at baseline (Mean(SD))" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">UCLA - LS - 20 at baseline (Mean(SD))</td>
</tr>
<tr class="gt_row_group_first odd">
<td class="gt_row gt_left" headers="UCLA - LS - 20 at baseline (Mean(SD))  value"><br>
</td>
<td class="gt_row gt_right" headers="UCLA - LS - 20 at baseline (Mean(SD))  intervention">47.9 (10.2)</td>
<td class="gt_row gt_right" headers="UCLA - LS - 20 at baseline (Mean(SD))  control">52 (8.9)</td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>quartz_off_screen 
                2 </code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="skills-assessment-documentation" class="level1">
<h1>Skills Assessment Documentation:</h1>
<section id="rationale-for-specific-output-of-r" class="level2">
<h2 class="anchored" data-anchor-id="rationale-for-specific-output-of-r">Rationale for Specific Output of R</h2>
<p>Below is the R Code created to assess the following skills of the author (myself):</p>
<ul>
<li><p>Ability to handle and prepare real-world data,</p></li>
<li><p>strategies behind analysis choices,</p></li>
<li><p>interpretation of results in context of a small, pilot RCT,</p></li>
<li><p>and overall clarity and accessibility of the communication of the above.</p></li>
</ul>
<p>I believe this documentation shows through the RMD function 1) in line comments and choices for project/team documentation and replicability, 2) use of a repository to decrease staff time needed to tailor communication findings to various outputs, and 3) RMD output with PowerPoint Presentation (PPT), Word Document or PDF (industry standard or open source static documents to review), and Webpage (HMTL) for easy intra-team QA/QI for the shared potential increase audience comprehension through multiple outputs with click of a button.</p>
</section>
<section id="key-research-questions" class="level2">
<h2 class="anchored" data-anchor-id="key-research-questions"><strong>Key Research Questions</strong></h2>
<ol type="1">
<li><p>How well were participants retained? What is implied about the feasibility of a larger trial?</p>
<p>A:Among n=20 participants, treatment dosage average treatment dosage was 4.15 (SD = 0.919) out of 6 sessions. <em>This suggests across the entire treatment dosage (6 sessions) attendance and presumed dosage of treatment is feasible in for this intervention design.</em> Qualitatively, n = 13 (65%) completed roughly 4 or more sessions (Full Treatment).</p>
<p>Note: Sample Characteristics of the N= 40 are proportions for strata across intervention arm except for Age, Gender, Race/Ethnicity, and average annual household income Income (USD). Average scores for PHQ-9 and UCLA-LS-20 were similar across intervention arm, both at moderate severe depression and between 43 and 52 loneliness score.</p>
<p><strong>Test the effect of possibly differences in demographic characteristics (i.e., income) and their relationship with other covariates (Race/Ethnicity and Age) on the causal pathway.</strong></p></li>
<li><p>Does the intervention seem to reduce loneliness (primary) or depression (secondary)?</p>
<p>A: Cohen’s d showed a small effect, further testing is recommended.</p>
<p>Generalized Linear Models or Mixed Model Repeat Measure (<a href="https://openpharma.github.io/mmrm/latest-tag/">MMRM</a>) or ANOVA to look into the variance for further exploration. Would suggest just starting with tailor test for small sample sizes - Wilcoxon Signed Rank Test and treat Outcome as continuous for an initial test for significance. Larger sample would warrant a GLM or model with less rigid parameter requirements.</p></li>
<li><p>Are there participant characteristics (e.g., baseline loneliness or depression severity, attendance, or demographic characteristics) that appear to be associated with outcomes or that may influence how we interpret the intervention’s effects?</p>
<p>Mixed Model Repeat Measure (<a href="https://openpharma.github.io/mmrm/latest-tag/">MMRM</a>) with Demographic Characteristics Age, Race/Ethnicity, Gender, and Income since those may be the most different between arms (Fisher’s Test?). Again - would want to refer to the assumed relationships and interactions (DAG == casual pathway).</p></li>
</ol>

</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-gosling2024" class="csl-entry" role="listitem">
Gosling, Corentin J., Romain Colle, Ariane Cartigny, Fabrice Jollant, Emmanuelle Corruble, and Ariel Frajerman. 2024. <span>“Measuring Loneliness: A Head-to-Head Psychometric Comparison of the 3- and 20-Item UCLA Loneliness Scales.”</span> <em>Psychological Medicine</em> 54 (14): 3821–27. <a href="https://doi.org/10.1017/s0033291724002083">https://doi.org/10.1017/s0033291724002083</a>.
</div>
<div id="ref-kroenke2001" class="csl-entry" role="listitem">
Kroenke, Kurt, Robert L. Spitzer, and Janet B. W. Williams. 2001. <span>“The PHQ-9.”</span> <em>Journal of General Internal Medicine</em> 16 (9): 606–13. <a href="https://doi.org/10.1046/j.1525-1497.2001.016009606.x">https://doi.org/10.1046/j.1525-1497.2001.016009606.x</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>